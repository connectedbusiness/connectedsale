define(["backbone","jqm-config","shared/global","shared/shared","view/app","view/dashboard/dashboard"],function(e,s,o,i,t,r){e.View.prototype.close=function(){this.beforeClose&&this.beforeClose(),this.remove(),this.off()};var n=[{POS:"view/15.1.0/pos/pos",Kiosk:"view/15.1.0/kiosk/kiosk",KioskCustomer:"view/15.1.0/kiosk/customer/kioskcustomer",KioskPayment:"view/15.1.0/kiosk/payment/kioskpayment",SecondaryDisplay:"view/15.1.0/secondarydisplay/secondarydisplay",Products:"view/15.1.0/products/products",Customers:"view/15.1.0/customers/customers",Settings:"view/15.1.0/settings/settings",Reports:"view/15.1.0/reports/reports"},{POS:"view/16.0.0/pos/pos",Kiosk:"view/16.0.0/kiosk/kiosk",KioskCustomer:"view/16.0.0/kiosk/customer/kioskcustomer",KioskPayment:"view/16.0.0/kiosk/payment/kioskpayment",SecondaryDisplay:"view/16.0.0/secondarydisplay/secondarydisplay",Products:"view/16.0.0/products/products",Customers:"view/16.0.0/customers/customers",Settings:"view/16.0.0/settings/settings",Reports:"view/16.0.0/reports/reports"},{POS:"view/18.0.0/pos/pos",Kiosk:"view/18.0.0/kiosk/kiosk",KioskCustomer:"view/18.0.0/kiosk/customer/kioskcustomer",KioskPayment:"view/18.0.0/kiosk/payment/kioskpayment",SecondaryDisplay:"view/18.0.0/secondarydisplay/secondarydisplay",Products:"view/18.0.0/products/products",Customers:"view/18.0.0/customers/customers",Settings:"view/18.0.0/settings/settings",Reports:"view/18.0.0/reports/reports"},{POS:"view/18.1.0/pos/pos",Kiosk:"view/18.1.0/kiosk/kiosk",KioskCustomer:"view/18.1.0/kiosk/customer/kioskcustomer",KioskPayment:"view/18.1.0/kiosk/payment/kioskpayment",SecondaryDisplay:"view/18.1.0/secondarydisplay/secondarydisplay",Products:"view/18.1.0/products/products",Customers:"view/18.1.0/customers/customers",Settings:"view/18.1.0/settings/settings",Reports:"view/18.1.0/reports/reports"},{POS:"view/18.2.0/pos/pos",Kiosk:"view/18.2.0/kiosk/kiosk",KioskCustomer:"view/18.2.0/kiosk/customer/kioskcustomer",KioskPayment:"view/18.2.0/kiosk/payment/kioskpayment",SecondaryDisplay:"view/18.2.0/secondarydisplay/secondarydisplay",Products:"view/18.2.0/products/products",Customers:"view/18.2.0/customers/customers",Settings:"view/18.2.0/settings/settings",Reports:"view/18.2.0/reports/reports"},{POS:"view/19.0.0/pos/pos",Kiosk:"view/19.0.0/kiosk/kiosk",KioskCustomer:"view/19.0.0/kiosk/customer/kioskcustomer",KioskPayment:"view/19.0.0/kiosk/payment/kioskpayment",SecondaryDisplay:"view/19.0.0/secondarydisplay/secondarydisplay",Products:"view/19.0.0/products/products",Customers:"view/19.0.0/customers/customers",Settings:"view/19.0.0/settings/settings",Reports:"view/19.0.0/reports/reports"}],a=e.Router.extend({routes:{"":"Login",login:"Login",dashboard:"Dashboard",pos:"POS",kiosk:"Kiosk",customer:"KioskCustomer",payment:"KioskPayment",secondary:"Secondary",products:"Products",customers:"Customers",settings:"Settings",reports:"Reports",research:"Research"},Login:function(){this.ShowView(new t)},Dashboard:function(){this.ShowView(new r)},POS:function(){this.ShowViewByType("POS")},Kiosk:function(){this.ShowViewByType("Kiosk")},KioskCustomer:function(){this.ShowViewByType("KioskCustomer")},KioskPayment:function(){this.ShowViewByType("KioskPayment")},Secondary:function(){this.ShowViewByType("Secondary")},Products:function(){this.ShowViewByType("Products")},Customers:function(){this.ShowViewByType("Customers")},Settings:function(){this.ShowViewByType("Settings")},Reports:function(){this.ShowViewByType("Reports")},Research:function(){this.ShowViewByType("Research")},ShowViewByType:function(e){var s,t=i.GetVersionAttributes(o.ServerVersion),r=t.Major+"."+t.Minor;switch(r){case"15.1":s=0;break;case"16.0":s=1;break;case"18.0":s=2;break;case"18.1":s=3;break;case"18.2":s=4;case"19.0":s=5}var a=this;switch(e){case"POS":require([n[s].POS],function(e){a.ShowView(new e)});break;case"Kiosk":require([n[s].Kiosk],function(e){a.ShowView(new e)});break;case"KioskCustomer":require([n[s].KioskCustomer],function(e){a.ShowView(new e)});break;case"KioskPayment":require([n[s].KioskPayment],function(e){a.ShowView(new e)});break;case"Secondary":require([n[s].SecondaryDisplay],function(e){a.ShowView(new e)});break;case"Products":require([n[s].Products],function(e){a.ShowView(new e)});break;case"Customers":require([n[s].Customers],function(e){a.ShowView(new e)});break;case"Settings":require([n[s].Settings],function(e){a.ShowView(new e)});break;case"Reports":require([n[s].Reports],function(e){a.ShowView(new e)})}},ShowView:function(e){return this.currentView&&this.currentView.close(),$("#wrapper").html(e.render().el),this.currentView=e,this.currentView.InitializeChildViews(),e},InitalizeNavigator:function(){console.log("InitalizeNavigator"),navigator.__proto__.csServer="http://172.16.1.252/csserver/",navigator.csPreventCache||(navigator.__proto__.csPreventCache="?"+parseInt(1e6*Math.random())),navigator.cs||(console.log("navigator.cs LOADED"),navigator.__proto__.cs={toServerPath:function(e,s){var o="",i="";switch(s){case"view":o=".js",i="js/";break;case"template":o=".html",i="template/"}return navigator.csServer+i+e+o+navigator.csPreventCache}})}}),c=function(){new a;e.history.start()};return{initialize:c}});