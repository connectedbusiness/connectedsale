define(["jquery","mobile","underscore","backbone","view/21.0.0/settings/category/currentcategory","text!template/21.0.0/settings/category/currentcategories.tpl.html"],function(e,t,n,r,i,o){var a=null,s=r.View.extend({_template:n.template(o),initialize:function(){this.collection.bind("reset",this.LoadItems,this),this.collection.bind("add",this.AddOneItem,this),this.render()},render:function(){this.$el.html(this._template),e("#currentCategory").trigger("create")},LoadItems:function(){this.$("#currentCategoryListContainer").empty();var e="";this.collection.each(function(t){t.get("CategoryCode")!=e?(a=new i({model:t}),this.$("#currentCategoryListContainer").append(a.render().el)):t.destroy(),e=t.get("CategoryCode")}),this.$("#currentCategoryListContainer").listview("refresh")},AddOneItem:function(e){a=new i({model:e}),this.$("#currentCategoryListContainer").append(a.render().el)}});return s});