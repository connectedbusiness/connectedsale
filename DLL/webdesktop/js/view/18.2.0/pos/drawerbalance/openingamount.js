define(["jquery","mobile","underscore","backbone","shared/global","shared/shared","view/18.2.0/pos/keypad/keypad","text!template/18.2.0/pos/drawerbalance/openingamount.tpl.html"],function(e,t,i,n,a,o,d,s){var h=n.View.extend({_template:i.template(s),events:{"tap #keypad-done-btn":"btnSave_tap"},initialize:function(){this.render()},render:function(){this.$el.html(this._template({PaymentType:a.PaymentType})),this.InitializePaymentDetail(),e("#main-transaction-blockoverlay").show(),o.BlurItemScan()},InitializePaymentDetail:function(){this.InitializeKeypadView()},Close:function(){this.Hide(),e("#main-transaction-blockoverlay").hide()},Show:function(){this.render(),this.$el.show()},Hide:function(){e(document).unbind("keydown"),this.$el.html(""),this.$el.hide()},btnSave_tap:function(e){e.preventDefault(),this.trigger("SaveAmount",this.GetAmount()),this.Close()},InitializeKeypadView:function(){this.keypadView&&this.keypadView.remove(),this.keypadView=new d({el:e(".keypad")}),this.keypadView.on("enterTriggered",function(){e("#keypad-done-btn").tap()},this),this.keypadView.Show()},GetAmount:function(){return this.keypadView?this.keypadView.GetAmount():0}});return h});