define(["jquery","mobile","underscore","backbone","shared/global","shared/shared","model/base","text!template/16.0.0/pos/actions/actions.tpl.html"],function(t,e,i,s,n,a,o,r){var c,h="",l=s.View.extend({_template:i.template(r),className:"popover",id:"actions-popover",attributes:{style:"display:none"},events:{"tap a":"CheckTransaction"},Selected:function(t){switch(t){case"settings":window.location.hash="settings";break;case"logout":this.trigger("LogOut",this);break;case"closeworkstation":this.trigger("CloseWorkstation",this);break;case"printtape":this.trigger("PrintWorkstationReport",this);break;case"backtodashboard":window.location.hash="dashboard",this.trigger("stopSignalR",this)}},CheckTransaction:function(t){return t&&(t.preventDefault(),h=t.currentTarget.id),c=this,this.hasOpenTransaction?void navigator.notification.confirm("The current transaction will be cancelled if you continue. Do you want to continue?",d,"Cancel Transaction","Yes,No"):void this.Selected(h)},render:function(){var t=n.ServerVersion;return this.$el.html(this._template({Version:t})),this.Close(),this},Close:function(){this.Hide()},Show:function(){this.ToggleDisplay(),this.$el.show(),this.$el.trigger("create")},Hide:function(){this.$el.hide()},ToggleDisplay:function(){switch(n.Preference.TrackDrawerBalance){case!0:this.$("#closeworkstation").show();break;case!1:this.$("#closeworkstation").hide()}n.Preference.IsAllowViewZXTape?this.$("#printtape").show():n.AdministratorRole||n._HasStations&&!n._HasAdmins?this.$("#printtape").show():this.$("#printtape").hide()},SetHasOpenTransaction:function(t){this.hasOpenTransaction=t}}),d=function(t){1===t&&c.trigger("VoidTransaction",c)};return l});