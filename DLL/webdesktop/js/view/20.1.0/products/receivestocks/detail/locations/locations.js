define(["backbone","shared/global","shared/service","shared/method","shared/shared","model/base","collection/base","view/20.1.0/products/receivestocks/detail/locations/location","text!template/20.1.0/products/receivestocks/detail/location/locations.tpl.html"],function(e,t,o,i,l,s,n,r,c){var a=".custom-dropdown-tbody",h=e.View.extend({_template:_.template(c),events:{},initialize:function(){this.render()},render:function(){return this.$el.html(this._template()),this},InitializeChildviews:function(){var e=this;this.collection.each(function(t){var o=new r({el:a,model:t});o.on("selected",e.SetSelected,e),o.InitializeChildViews(e.model.get("WarehouseCode"))}),this.RefeshTable()},SetSelected:function(e){this.trigger("selected",e)},RefeshTable:function(){t.isBrowserMode?(l.UseBrowserScroll("#locations-itemTable"),$("#locations-itemTable").css("margin-bottom","0")):this.LoadScroll()},LoadScroll:function(){l.IsNullOrWhiteSpace(this.myScroll)?this.myScroll=new iScroll("locations-itemTable",{vScrollbar:!0,vScroll:!0,snap:!1,momentum:!0}):this.myScroll.refresh();var e=this;setTimeout(function(){e.myScroll.refresh()},1e3)},Show:function(e,t,o){t=this._generatePopupCoordinates(t),e=e+3+"px",this.$el.css({left:e,top:t}),this.$el.show()},_generatePopupCoordinates:function(e){var t=this.ComputePopUpHeight();return e+=10,e+t>748?e=e-t+"px":e+="px",e},ComputePopUpHeight:function(){var e=$("#receive-stocks-locations").height();return e}});return h});