define(["jquery","mobile","underscore","backbone","shared/global","shared/method","shared/shared","text!template/20.0.0/pos/item/item.tpl.html"],function(e,t,i,s,l,r,a,m){var n=s.View.extend({_template:i.template(m),initialize:function(){this.$el.attr("class","item-list"),this.$el.attr("id",this.model.cid)},events:{tap:"SelectItem"},render:function(){var e=l.CurrencySymbol,t=l.ServiceUrl+r.IMAGES+this.model.get("ItemCode")+".png?"+Math.random();l.IsUseISEImage&&(t=this.AssignISEImageLocation(this.model.get("Filename")));var i=l.ServiceUrl+r.IMAGES+"Interprise.jpg";this.CheckDefaultPrice(this.model),this.model.set({DefaultImg:i,ImageLocation:t,CurrencySymbol:e,type:this.model.get("ItemType").charAt(0)},{silent:!0});var s=a.Escapedhtml(l.Preference.IsUseItemDescription?this.model.get("ItemName"):this.model.get("ItemDescription"));return s.length>25&&(s=s.substring(0,20)+"...",this.$(".item-desc").attr("style","word-break:keep-all;max-height:55px;overflow:hidden;margin-top:10px;min-width:100px;")),this.model.set({ItemName:s},{silent:!0}),this.$el.html(this._template(this.model.toJSON())),this},CheckDefaultPrice:function(e){var t=e.get("RetailPrice"),i=e.get("WholesalePrice");switch(l.DefaultPrice){case"Retail":e.set({Price:t},{silent:!0});break;case"Wholesale":e.set({Price:i},{silent:!0})}},SelectItem:function(e){e.preventDefault(),this.model.select()},AssignISEImageLocation:function(e){return l.WebSiteURL+"/"+r.ISEIMAGES+l.ISEImageSize+e}});return n});