define(["jquery","mobile","underscore","backbone","shared/global","shared/shared","text!template/dialog/dialog.tpl.html"],function(e,t,i,o,n,a,l){var c=o.View.extend({_template:i.template(l),render:function(){return e("#dialog-box").html(),e("#dialog-box").html(this._template),this},Unbind:function(){this.unbind(),this.remove()},AlertMsg:function(t,i,o){var a=document.activeElement;n.PrevActiveElemId=a.id;var l=this;this.render(),e("#dialog-box").dialog({title:i,position:["center","center"],resizable:!1,height:"auto",maxHeight:500,width:400,maxWidth:400,modal:!0,buttons:{OK:function(){e(this).dialog("close"),l.RemoveOverLay(),l.FocusOnItemScan(),o&&o()}},close:function(){l.trigger("dialog-close")}}),e("#dialog-box p").html(t),this.ManageDialogStyle()},ConfirmDialog:function(t,i,o,a){var l=document.activeElement;n.PrevActiveElemId=l.id;var c=this;this.render(),this.buttonClicked=!1,e("#dialog-box").dialog({title:o,position:["center","center"],resizable:!1,width:400,maxWidth:400,height:200,maxHeight:200,modal:!0,buttons:{Yes:function(){c.buttonClicked=!0,e(this).dialog("close"),i(1),c.FocusOnItemScan()},No:function(){c.buttonClicked=!0,e(this).dialog("close"),i(0),c.FocusOnItemScan()}},close:function(){c.trigger("dialog-close"),c.buttonClicked||(i(0),c.FocusOnItemScan())}}),e("#dialog-box p").html(t),this.ManageDialogStyle()},ManageDialogStyle:function(){e(".ui-widget-overlay").css("z-index","99998"),e(".ui-dialog").css("z-index","99999")},RemoveOverLay:function(){},FocusOnItemScan:function(){if(n.PrevActiveElemId&&("search-input"==n.PrevActiveElemId||"kiosk-search-input"==n.PrevActiveElemId)){if(n.IsOnItemDetail)return;a.FocusToItemScan(),this.unbind()}}});return c});