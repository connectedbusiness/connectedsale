define(["model/base","bigdecimal","js/libs/format.min.js"],function(t,a){var e=t.extend({defaults:{SubTotal:0,TotalTax:0,Payment:0,Balance:0,Qty:0,TaxDisplay:0,TermDiscount:0,TotalDiscount:0,TotalCreditMemoAmount:0},Balance:function(){var t=format("0.0000",this.get("TotalTax").toFixed(4)),a=parseFloat(this.get("SubTotal").toFixed(2))+parseFloat(this.RoundNumber(t,2))-parseFloat(this.get("Payment").toFixed(2));return parseFloat(a.toFixed(2))},BalanceWithoutPayment:function(){var t=format("0.0000",this.get("TotalTax").toFixed(4)),a=parseFloat(this.get("SubTotal").toFixed(2))+parseFloat(this.RoundNumber(t,2));return parseFloat(a.toFixed(2))},DeductPotentialDiscountFromBalance:function(){var t=format("0.0000",this.get("TotalTax")),a=parseFloat(this.get("SubTotal").toFixed(2))-parseFloat(this.get("TermDiscount").toFixed(2)),e=a+parseFloat(this.RoundNumber(t,2))-parseFloat(this.get("Payment").toFixed(2));return parseFloat(e.toFixed(2))},Subtotal:function(){return parseFloat(this.get("SubTotal").toFixed(2))},RoundNumber:function(t,e){var o=new a.BigDecimal(t);return o.setScale(e,a.MathContext.ROUND_HALF_UP)}});return e});