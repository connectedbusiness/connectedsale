require.config({paths:{jquery:"libs/jquery-1.8.2.min",mobile:"libs/jquery.mobile-1.1.0",base64:"libs/webtoolkit.base64",bigdecimal:"libs/BigDecimal-all-last.min",backbone:"libs/backbone",localstorage:"libs/backbone.localStorage",underscore:"libs/underscore-min",text:"libs/text",template:"../template"}}),require(["jquery","mobile","router","shared/shared","view/dialog/dialog"],function(i,e,o,t,n){if(console.log("init main.js"),navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)){var r={show:function(){navigator.notification.isOverrideAlert&&(navigator.keyboardIsVisible=!0,t.ToggleNotificationPosition(!0))},hide:function(){navigator.notification.isOverrideAlert&&(navigator.keyboardIsVisible=!1,t.ToggleNotificationPosition())}};window.plugins.keyboard.on("KeyboardDidShow",r,"show"),window.plugins.keyboard.on("KeyboardDidHide",r,"hide")}else{var a=new Array,l=null,s=function(){return null==l&&(l=new n),l.on("dialog-close",c),l},c=function(){if(a.shift(),0!=a.length){var i=a[0];"alert"==i.type?s().AlertMsg(i.msg,i.title,i.ereceiver):s().ConfirmDialog(i.msg,i.ereceiver,i.title)}};navigator.__proto__.notification={alert:function(i,e,o,t){a.push({msg:i,title:o,ereceiver:e,type:"alert"}),1==a.length&&s().AlertMsg(i,o,e)},confirm:function(i,e,o,t){a.push({msg:i,title:o,ereceiver:e,type:"confirm"}),1==a.length&&s().ConfirmDialog(i,e,o)}}}navigator.keyboardIsVisible=!1,navigator.notification.isOverrideAlert=!1;var g=navigator.notification.alert;navigator.notification._alert=g,navigator.notification.overrideAlert=function(i){i?(navigator.notification.isOverrideAlert=!0,navigator.notification.alert=function(i,e,o,n,r){return r?void navigator.notification._alert(i,e,o,n,r):void t.ShowNotification(i,!0,null,!0)}):(navigator.notification.isOverrideAlert=!1,navigator.notification.alert=g)},o.initialize()});