Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),o=this,i=function(){},n=function(){return o.apply(this instanceof i?this:t||window,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,n.prototype=new i,n}),function(t){function e(e,o){this.element=e,this.options={},o=o||{};var i;for(i in this.defaultOptions)o[i]!==t?this.options[i]=o[i]:this.options[i]=this.defaultOptions[i];this.supportsWebkit3dTransform="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,"string"==typeof e&&(this.element=document.getElementById(e)),this.knob=this.element.getElementsByClassName("knob")[0],this.track=this.element.getElementsByClassName("track")[0],this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.addEvents("start"),this.setValue(this.options.value),window.addEventListener("resize",this.update.bind(this))}var o={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]};e.prototype.defaultOptions={value:0,min:0,max:100,change:null},e.prototype.addEvents=function(t){var e,i=o[t],n=this[t];for(e in i)this.element.addEventListener(i[e],n,!1)},e.prototype.removeEvents=function(t){var e,i=o[t],n=this[t];for(e in i)this.element.removeEventListener(i[e],n,!1)},e.prototype.start=function(t){this.addEvents("move"),this.addEvents("end"),this.handle(t)},e.prototype.move=function(t){this.handle(t)},e.prototype.end=function(){this.removeEvents("move"),this.removeEvents("end")},e.prototype.update=function(){this.setValue(this.value)},e.prototype.setValue=function(e){e===t&&(e=this.options.min),e=Math.min(e,this.options.max),e=Math.max(e,this.options.min);var o=this.knob.offsetWidth,i=this.track.offsetWidth,n=this.options.max-this.options.min,s=i-o,h=Math.round((e-this.options.min)*s/n);this.setKnobPosition(h),this.value=e,this.callback(e)},e.prototype.setKnobPosition=function(t){this.supportsWebkit3dTransform?this.knob.style.webkitTransform="translate3d("+t+"px, 0, 0)":this.knob.style.webkitTransform=this.knob.style.MozTransform=this.knob.style.msTransform=this.knob.style.OTransform=this.knob.style.transform="translateX("+t+"px)"},e.prototype.handle=function(t){t.preventDefault(),t.targetTouches&&(t=t.targetTouches[0]);var e,o,i=t.pageX,n=this.knob.offsetWidth,s=this.track.offsetWidth,h=s-n,a=this.options.max-this.options.min;for(e=this.element;e;e=e.offsetParent)i-=e.offsetLeft;i+=n/2,i=Math.min(i,s),i=Math.max(i-n,0),this.setKnobPosition(i),o=this.options.min+Math.round(i*a/h),this.setValue(o)},e.prototype.callback=function(t){this.options.change&&this.options.change(t)},window.MobileRangeSlider=e}();