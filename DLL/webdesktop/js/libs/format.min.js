window.format=function(t,e){if(!t||isNaN(+e))return e;var e="-"==t.charAt(0)?-e:+e,n=e<0?e=-e:0,l=t.match(/[^\d\-\+#]/g),i=l&&l[l.length-1]||".",l=l&&l[1]&&l[0]||",",t=t.split(i),e=e.toFixed(t[1]&&t[1].length),e=+e+"",h=t[1]&&t[1].lastIndexOf("0"),r=e.split(".");(!r[1]||r[1]&&r[1].length<=h)&&(e=(+e).toFixed(h+1)),h=t[0].split(l),t[0]=h.join("");var g=t[0]&&t[0].indexOf("0");if(g>-1)for(;r[0].length<t[0].length-g;)r[0]="0"+r[0];else 0==+r[0]&&(r[0]="");if(e=e.split("."),e[0]=r[0],r=h[1]&&h[h.length-1].length){for(var h=e[0],g="",a=h.length%r,f=0,o=h.length;f<o;f++)g+=h.charAt(f),!((f-a+1)%r)&&f<o-r&&(g+=l);e[0]=g}return e[1]=t[1]&&e[1]?i+e[1]:"",(n?"-":"")+e[0]+e[1]};